# 苍穹外卖系统项目文档
*这是一个非常好的javaWeb入门项目，帮助了我快速掌握基础的增删改查、登陆校验、异常处理、拦截器、云存储、模块化管理、AOP、WebSocket、Mytask等，非常值得一学*
## 1. 项目概述

苍穹外卖（Sky Take-out）是一个基于Spring Boot的餐饮外卖管理系统，采用前后端分离架构设计。系统分为管理端和用户端两个应用，支持餐厅管理员对菜品、套餐、订单等进行管理，同时为用户提供在线点餐、购物车、订单跟踪等功能。

## 2. 技术架构

### 2.1 技术栈

- **后端**：
  - 基础框架：Spring Boot 2.7.3
  - 持久层：MyBatis
  - 数据库：MySQL
  - 缓存：Spring Cache
  - 事务管理：Spring声明式事务
  - API文档：Knife4j (基于Swagger)
  - 日志框架：SLF4J + Lombok
  - 定时任务：Spring Scheduling
  - 其他工具：FastJSON、Apache Commons、POI等

- **前端**：
  - 基于前后端分离架构，此项目仅包含后端代码

- **其他技术**：
  - 对象存储：阿里云OSS
  - WebSocket：实时通信
  - JWT：用户认证

### 2.2 项目结构

项目采用Maven多模块结构：

- **sky-take-out**：父模块，管理依赖版本
  - **sky-common**：公共模块，包含工具类、常量、异常处理等
  - **sky-pojo**：实体类模块，包含数据库实体、DTO、VO等
  - **sky-server**：核心业务模块，包含控制器、服务层、数据访问层等

## 3. 数据库设计

系统使用MySQL数据库，主要包含以下核心表：

- **employee**：员工信息表，存储管理员和员工信息
- **category**：分类表，存储菜品和套餐分类
- **dish**：菜品表，存储菜品基本信息
- **dish_flavor**：菜品口味表，存储菜品的口味选项
- **setmeal**：套餐表，存储套餐基本信息
- **setmeal_dish**：套餐菜品关联表，存储套餐包含的菜品
- **user**：用户表，存储C端用户信息
- **address_book**：地址簿表，存储用户收货地址
- **shopping_cart**：购物车表，存储用户的购物车信息
- **orders**：订单表，存储订单基本信息
- **order_detail**：订单明细表，存储订单中的菜品和套餐信息

## 4. 功能模块

### 4.1 管理端功能

管理端主要面向餐厅管理员和员工，包括以下核心功能：

1. **员工管理**：
   - 员工登录/退出
   - 员工信息管理（添加、查询、编辑、禁用/启用）

2. **分类管理**：
   - 分类信息维护（新增、修改、删除、分页查询）
   - 根据类型查询分类

3. **菜品管理**：
   - 菜品信息维护（新增、修改、删除、分页查询）
   - 菜品启售/停售
   - 根据分类查询菜品

4. **套餐管理**：
   - 套餐信息维护（新增、修改、删除、分页查询）
   - 套餐启售/停售
   - 套餐详情查询

5. **订单管理**：
   - 订单查询
   - 接单/拒单
   - 派送订单
   - 完成订单
   - 订单取消

6. **数据统计**：
   - 营业额统计
   - 用户统计
   - 订单统计
   - 销量排名统计

7. **店铺管理**：
   - 店铺营业状态设置

8. **工作台**：
   - 待处理订单查询
   - 订单状态overview

### 4.2 用户端功能

用户端主要面向消费者，包括以下核心功能：

1. **用户登录/退出**：
   - 微信登录

2. **地址管理**：
   - 地址维护（新增、修改、删除、设为默认）
   - 地址查询

3. **菜品浏览**：
   - 分类查询
   - 菜品查询
   - 套餐查询

4. **购物车**：
   - 添加购物车
   - 查看购物车
   - 清空购物车
   - 删除购物车中商品

5. **订单管理**：
   - 提交订单
   - 订单支付（微信支付）
   - 历史订单查询
   - 取消订单
   - 再来一单

6. **店铺信息**：
   - 查询店铺营业状态

## 5. 核心业务流程

### 5.1 点餐下单流程

1. 用户登录系统
2. 浏览菜品/套餐并加入购物车
3. 确认购物车商品
4. 选择收货地址
5. 提交订单
6. 在线支付
7. 商家接单
8. 商家备餐并派送
9. 用户收货，订单完成

### 5.2 后台管理流程

1. 管理员登录系统
2. 维护基础数据（分类、菜品、套餐等）
3. 接收用户订单
4. 处理订单（接单、拒单、派送、完成）
5. 查看营业数据统计

## 6. 安全与性能

1. **安全措施**：
   - JWT认证，保障接口安全
   - Spring声明式事务，保证数据一致性
   - 全局异常处理，提高系统稳定性

2. **性能优化**：
   - 缓存应用，提高查询效率
   - 定时任务，处理周期性任务

## 7. 部署架构

系统部署采用Nginx + Spring Boot的架构：
- Nginx作为静态资源服务器和反向代理服务器
- Spring Boot应用部署在应用服务器上
- MySQL数据库部署在数据库服务器上

## 8. 项目扩展方向

1. 引入消息队列，优化订单处理流程
2. 增加数据分析模块，提供更完善的经营分析
3. 增加会员管理功能，实现会员积分和优惠券
4. 接入更多支付方式
5. 开发商家APP，方便商家随时处理订单

